<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>

<div al-app="FirstCtrl">
    {{value}}
    <button al-click="onClick()" al-disable="show_flag">click</button>
    <button al-click="onShow()">show</button>

    <div al-app="#second secondCtrl" al-if="isShow">
        {{value}}
        <button al-click="onClick()">click</button>
    </div>
    {{part_url}}

</div>


<script src="alight.0.10.js"></script>
<script>

//    var s = alight.Scope(),
//            secondCtrl = s;
//    s.value = 2;
//    s.isShow = false;
//    s.show = function(){
//        s.isShow = true;
//        s.$scan();
//    }
//
//    s.onClick = function(){
//        s.value += 1;
//
//    };
//    alight.applyBindings(s,document.getElementById("SecondCtrl" ));

    alight.controllers.secondCtrl = function ($s) {
        $s.value = 2;
        $s.isShow = false;
        $s.show = function(){
            $s.isShow = true;
            $s.$scan();
        }

        $s.onClick = function(){
            $s.value += 1;

        };
    }
    
    alight.controllers.FirstCtrl = function($scope){

        $scope.value = 1
        $scope.part_url = null;
        $scope.onClick = function(){
            $scope.value += 1
        }

        $scope.onShow = function(){
            $scope.show_flag = !$scope.show_flag;
            $scope.part_url = ('part_one.html' === $scope.part_url ? 'part_two.html' : 'part_one.html');

            alight.apps.second.show()
        }
    }

//    alight.controllers.SecondCtrl = function($scope){
//        gScopes["second"] = $scope
//        $scope.value = 2;
//        $scope.isShow = false;
//
//        $scope.onClick = function(){
//            $scope.value += 1
//            console.log(fctr)
//        }
//
//        $scope.show = function(){
//            $scope.isShow = true;
//            $scope.$scan();
//        }
//    }




</script>
</body>
</html>